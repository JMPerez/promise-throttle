var e=PromiseThrottle=function(e){var n=e.requestsPerSecond,t=e.promiseImplementation||Promise,r=[],o=null;function i(e,i){var a=i||{};return new t(function(t,i){r.push({resolve:t,reject:i,promise:e,weight:a.weight||1,signal:a.signal}),function e(){if(r.length>0){var t=Date.now(),i=1e3/n*r[0].weight,a=t-o;a>=i?function(){o=Date.now();var e=r.shift();e.signal&&e.signal.aborted?e.reject(new DOMException("","AbortError")):e.promise().then(function(n){e.resolve(n)}).catch(function(n){e.reject(n)})}():setTimeout(function(){e()},i-a)}}()})}return{add:i,addAll:function(e,n){var t=e.map(function(e){return i(e,n)});return Promise.all(t)}}};module.exports=e;
//# sourceMappingURL=promise-throttle.js.map
